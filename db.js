const sqlite = require('sqlite3')
const db = new sqlite.Database('courts.db') 

const createUserTable = `CREATE TABLE IF NOT EXISTS USER (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL, 
EMAIL TEXT NOT NULL UNIQUE,
PASSWORD TEXT NOT NULL,
PHONENUM INTEGER UNIQUE,
ISADMIN INT)`

const createCourtsTable  = `CREATE TABLE IF NOT EXISTS COURTS(
ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL UNIQUE,
LOCATION TEXT NOT NULL,
PRICE INTEGER NOT NULL,
RATING INTEGER NOT NULL,
PHONENUM INTEGER NOT NULL,
COURT_AMENITIES TEXT NOT NULL)`
    
const createBookingTable  = `CREATE TABLE IF NOT EXISTS BOOKING(
ID INTEGER PRIMARY KEY AUTOINCREMENT,
TIME INT NOT NULL,
DATE TEXT NOT NULL,
PHONENUMBER INTEGER NOT NULL UNIQUE,
FOREIGN KEY (USER_ID) REFERENCES USER(ID))`

const createReviewTable = `CREATE TABLE IF NOT EXISTS REVIEWS(
ID INTEGER PRIMARY KEY AUTOINCREMENT,
COURT_ID INTEGER NOT NULL,
USER_ID INTEGER NOT NULL,
RATING INTEGER NOT NULL,
COMMENT TEXT,
STATUS TEXT DEFAULT)`

module.exports = {db,createUserTable, createCourtsTable, createBookingTable,createReviewTable}